<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Friend Finder</title>

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</head>

<body>
<div class="container">
    <div>
        <hr>
        <h2>Survey Questions</h2>
        <hr>
    </div>
    <div>
        <h3>About You</h3>
    </div>
    <form>
            <div class="form-group">
              <label for="InputName">Name(Required)</label>
              <input type="text" class="form-control" id="InputName">
            </div>
            <div class="form-group">
                <label for="InputPhoto">Link to Photo Image (Required)</label>
                <input type="text" class="form-control" id="InputPhoto">
            </div>
            <hr>
            <div class="form-group">
                    <h3>Question1</h3>
                    <label for="Question1">Q1. Your mind is always buzzing with unexplored ideas and plans.</label>
                    <select class="form-control" id="Question1">
                      <option selected=>Select an option</option>
                      <option value="1">1(Stroungly Disagree)</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5"> 5(Strongly Agree)</option>
                    </select>
            </div>
            <div class="form-group">
                    <h3>Question2</h3>
                    <label for="Question2">Q2. Generally speaking, you rely more on your experience than your imagination.
                      </label>
                    <select class="form-control" id="Question2">
                      <option selected=>Select an option</option>
                      <option value="1">1(Stroungly Disagree)</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5"> 5(Strongly Agree)</option>
                    </select>
            </div>
            <div class="form-group">
                    <h3>Question3</h3>
                    <label for="Question3">Q3.You find it easy to stay relaxed and focused even when there is some pressure.
                      </label>
                    <select class="form-control" id="Question3">
                      <option selected=>Select an option</option>
                      <option value="1">1(Stroungly Disagree)</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5"> 5(Strongly Agree)</option>
                    </select>
            </div>
            <div class="form-group">
                    <h3>Question4</h3>
                    <label for="Question4">Q4. You rarely do something just out of sheer curiosity.
                      </label>
                    <select class="form-control" id="Question4">
                      <option selected=>Select an option</option>
                      <option value="1">1(Stroungly Disagree)</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5"> 5(Strongly Agree)</option>
                    </select>
            </div>
            <div class="form-group">
                    <h3>Question5</h3>
                    <label for="Question5">Q5. People can rarely upset you.
                      </label>
                    <select class="form-control" id="Question5">
                    <option selected>Select an option</option>
                      <option value="1">1(Stroungly Disagree)</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5"> 5(Strongly Agree)</option>
                    </select>
            </div>
            <div class="form-group">
                    <h3>Question6</h3>
                    <label for="Question6">Q6. It is often difficult for you to relate to other people’s feelings.
                      </label>
                    <select class="form-control" id="Question6">
                     <option selected=>Select an option</option>
                      <option value="1">1(Stroungly Disagree)</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5"> 5(Strongly Agree)</option>
                    </select>
            </div>
            <div class="form-group">
                    <h3>Question7</h3>
                    <label for="Question7">Q7. In a discussion, truth should be more important than people’s sensitivities.
                      </label>
                    <select class="form-control" id="Question7">
                     <option selected>Select an option</option>
                      <option value="1">1(Stroungly Disagree)</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5"> 5(Strongly Agree)</option>
                    </select>
            </div>
            <div class="form-group">
                    <h3>Question8</h3>
                    <label for="Question8">Q8. You rarely get carried away by fantasies and ideas.
                      </label>
                    <select class="form-control" id="Question8">
                      <option selected=>Select an option</option>
                      <option value="1">1(Stroungly Disagree)</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5"> 5(Strongly Agree)</option>
                    </select>
            </div>
            <div class="form-group">
                    <h3>Question9</h3>
                    <label for="Question9">Q9. You think that everyone’s views should be respected regardless of whether they are supported by facts or not.
                      </label>
                    <select class="form-control" id="Question9">
                      <option selected>Select an option</option>
                      <option value="1">1(Stroungly Disagree)</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5"> 5(Strongly Agree)</option>
                    </select>
            </div>
            <div class="form-group">
                    <h3>Question10</h3>
                    <label for="Question10">Q10. You feel more energetic after spending time with a group of people.
                      </label>
                    <select class="form-control" id="Question10">
                      <option selected>Select an option</option>
                      <option value="1">1(Stroungly Disagree)</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5"> 5(Strongly Agree)</option>
                    </select>
            </div>
            <button type="submit" class="btn btn-primary" id="submit">Submit</button>
            </form>
</div>
<!--modal-->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Your Best Match</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p id="matchName"></p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

<script>
var result = true;

function runResult() {

  for (var i = 0; i < $(".form-control").length; i++) {
      // console.log(i, $(".form-control")[i].value)
        if ($(".form-control")[i].value === "" || $(".form-control")[i].value ==="Select an option") {
            result = false;
        }
      }
       
}


$("#submit").on( "click" , function(event) {
  event.preventDefault();

    var newFriend =
      {
        name : $("#InputName").val().trim(),
        photo : $("#InputPhoto").val().trim(),
        score : [
          $("#Question1").val(),
          $("#Question2").val(),
          $("#Question3").val(),
          $("#Question4").val(),
          $("#Question5").val(),
          $("#Question6").val(),
          $("#Question7").val(),
          $("#Question8").val(),
          $("#Question9").val(),
          $("#Question10").val()
        ]
      }

    if (result) {
      console.log(newFriend);
      $.post("/api/friends", newFriend, function(frombackRes) {
        $('#matchName').text(frombackRes.name)
      })

      $('#myModal').modal('toggle'); 
        
    } else {
        alert("Please fill out all fields before submiting")
    }
   
})
</script>

</body>
</html>
